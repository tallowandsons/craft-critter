{% import '_includes/forms' as forms %}
{% from 'critter/macros' import configWarning, configGroupWarning %}

{# whether or not allowAdminChanges is on #}
{% set readOnly = readOnly ?? false %}

{{ forms.selectField({
    label: "Cache Behaviour"|t(craft.critter.pluginHandle),
    instructions: "Since critical CSS is generated in a queue, pages may have been cached with outdated or no critical CSS. Here you can configure how cached pages should be handled after critical CSS is generated."|t(craft.critter.pluginHandle),
    name: 'cacheBehaviour',
    options: cacheBehaviourOptions,
    value: settings.cacheSettings.cacheBehaviour ?? constant('CACHE_BEHAVIOUR_REFRESH_URLS', 'mijewe\\critter\\drivers\\caches\\BlitzCache'),
    toggle: true,
    disabled: readOnly,
    tooltip: ""
}) }}

{{ config.cacheSettings is defined ? configGroupWarning('cacheSettings') }}
